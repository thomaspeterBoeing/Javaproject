<template>
    <div>
        <lightning-card title={cardTitle} >
            <div slot="actions">
                <lightning-button-icon icon-name={expandCollapseIcon} alternative-text={expandCollapseAltText}
                    onclick={toggleCardVisibility} variant="bare" class="slds-button_icon">
                </lightning-button-icon>
            </div>
            <!-- Use the opportunity variable in the conditional rendering -->
            <template if:true={opportunity}>
                <div class="slds-grid slds-gutters slds-p-horizontal_medium">
                    <template if:false={errorMessage}>
                        <div data-id="errorDisplay" class="slds-p-left_medium" style="color:red">{errorMessage}</div>
                    </template>
                    <div data-id="dummyDiv"></div>
                    <div class="slds-col">
                        <span>
                            <p><strong>Proposed Insured:</strong> {fullName}</p>
                            <p><strong>Insurance Purpose:</strong> {insurancePurpose}</p>
                            <p><strong>Health Assessment:</strong> {healthAssessment}</p>
                            <p><strong>Tobacco Use:</strong> {tobaccoUse}</p>
                            <p><strong>Affiliation:</strong> {affiliation}</p>
                            <p><strong>Proposed Amount: </strong><lightning-formatted-number format-style="currency" 
                                currency-code="USD" value={proposedAmount} maximum-fraction-digits="0"></lightning-formatted-number></p>
                        </span>
                    </div>
                    <div class="slds-col">
                        <span>
                            <p><strong>Gender:</strong> {accountGender}</p>
                            <p><strong>Age:</strong> {accountAge}</p>
                            <p><strong>State:</strong> {accountState}</p>
                        </span>
                    </div>
                
                </div>
            </template>
        </lightning-card>
    </div>
</template>
